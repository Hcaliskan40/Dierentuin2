@model IEnumerable<ZooManager.Models.Animal>
@using ZooManager.Models

<h1>Animals</h1>

<form method="get" class="row g-2 mb-3">

    <div class="col">
        <input name="name" value="@Context.Request.Query["name"]" class="form-control" placeholder="Name" />
    </div>

    <div class="col">
        <input name="species" value="@Context.Request.Query["species"]" class="form-control" placeholder="Species" />
    </div>

    <div class="col">
        <select name="size" class="form-select">
            <option value="">Size</option>
            @foreach (var s in Enum.GetValues<Size>())
            {
                <option value="@s">@s</option>
            }
        </select>
    </div>

    <div class="col">
        <select name="diet" class="form-select">
            <option value="">Diet</option>
            @foreach (var d in Enum.GetValues<DietaryClass>())
            {
                <option value="@d">@d</option>
            }
        </select>
    </div>

    <div class="col">
        <select name="activity" class="form-select">
            <option value="">Activity</option>
            @foreach (var a in Enum.GetValues<ActivityPattern>())
            {
                <option value="@a">@a</option>
            }
        </select>
    </div>

    <div class="col">
        <select name="security" class="form-select">
            <option value="">Security</option>
            @foreach (var s in Enum.GetValues<SecurityLevel>())
            {
                <option value="@s">@s</option>
            }
        </select>
    </div>

    <div class="col">
        <select name="categoryId" class="form-select">
            <option value="">Category</option>
            @foreach (var c in ViewBag.Categories)
            {
                <option value="@c.Id">@c.Name</option>
            }
        </select>
    </div>

    <div class="col">
        <select name="enclosureId" class="form-select">
            <option value="">Enclosure</option>
            @foreach (var e in ViewBag.Enclosures)
            {
                <option value="@e.Id">@e.Name</option>
            }
        </select>
    </div>

    <div class="col">
        <button class="btn btn-primary">Filter</button>
        <a asp-action="Index" class="btn btn-secondary">Reset</a>
    </div>
</form>

<p>
    <a asp-action="Create" class="btn btn-success">Create new</a>
</p>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Name</th>
            <th>Species</th>
            <th>Category</th>
            <th>Enclosure</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    @foreach (var a in Model)
    {
        <tr>
            <td>@a.Name</td>
            <td>@a.Species</td>
            <td>@a.Category?.Name</td>
            <td>@a.Enclosure?.Name</td>
            <td>
                <a asp-action="Details" asp-route-id="@a.Id">Details</a> |
                <a asp-action="Edit" asp-route-id="@a.Id">Edit</a> |
                <a asp-action="Delete" asp-route-id="@a.Id">Delete</a>
            </td>
        </tr>
    }
    </tbody>
</table>
