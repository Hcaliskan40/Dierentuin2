@{
    ViewData["Title"] = "Zoo Dashboard";
}

<h1>Zoo Dashboard</h1>

<div class="mb-3">
    <div><strong>Animals:</strong> @ViewBag.AnimalCount</div>
    <div><strong>Categories:</strong> @ViewBag.CategoryCount</div>
    <div><strong>Enclosures:</strong> @ViewBag.EnclosureCount</div>
    <div><strong>Unassigned animals:</strong> @ViewBag.UnassignedCount</div>
</div>

<hr />

<h3>Actions</h3>

<div class="d-flex gap-2 flex-wrap mb-3">
    <form asp-action="Sunrise" method="post">
        @Html.AntiForgeryToken()
        <button class="btn btn-warning" type="submit">Sunrise</button>
    </form>

    <form asp-action="Sunset" method="post">
        @Html.AntiForgeryToken()
        <button class="btn btn-dark" type="submit">Sunset</button>
    </form>

    <form asp-action="FeedingTime" method="post">
        @Html.AntiForgeryToken()
        <button class="btn btn-success" type="submit">Feeding time</button>
    </form>

    <form asp-action="CheckConstraints" method="post">
        @Html.AntiForgeryToken()
        <button class="btn btn-primary" type="submit">CheckConstraints</button>
    </form>
</div>

<h4>AutoAssign</h4>
<div class="d-flex gap-2 flex-wrap mb-3">
    <form asp-action="AutoAssign" method="post">
        @Html.AntiForgeryToken()
        <input type="hidden" name="mode" value="finish" />
        <button class="btn btn-outline-primary" type="submit">Finish existing enclosures</button>
    </form>

    <form asp-action="AutoAssign" method="post">
        @Html.AntiForgeryToken()
        <input type="hidden" name="mode" value="reset" />
        <button class="btn btn-outline-danger" type="submit">Reset + new layout</button>
    </form>
</div>

@if (TempData["ZooActionResult"] != null)
{
    <div class="alert alert-info">
        <strong>@TempData["ZooActionTitle"]</strong>
        <pre style="margin:0; white-space:pre-wrap;">@TempData["ZooActionResult"]</pre>
    </div>
}